<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hyeyin/25.11.1. â€” Guest Pics Upload</title>
  <meta name="description" content="JAEHEE ğŸ©·HYEYIN WEDDING DAY â€” í•˜ê° ì‚¬ì§„ ì—…ë¡œë“œ">
  <style>
    :root{
      --primary:#C77FB7; /* ìš”ì²­ ì»¬ëŸ¬(ë³´ì •) */
      --ink:#0f172a;
      --muted:#64748b;
      --border:#e5e7eb;
      --card:#ffffff;
      --bg:#fafafc;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:var(--bg);
      font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", "Apple SD Gothic Neo", sans-serif;
      color:var(--ink);
      line-height:1.6;
      display:flex; align-items:center; justify-content:center;
      padding:24px;
    }
    .container{width:100%; max-width:720px; background:var(--card); border:1px solid var(--border); border-radius:20px; box-shadow:0 10px 30px rgba(0,0,0,.05); overflow:hidden;}
    .hero{padding:28px 24px 16px; text-align:center; border-bottom:1px solid var(--border); background:linear-gradient(180deg, rgba(199,127,183,.12), transparent 60%);}
    .tag{display:inline-block;font-size:.9rem; letter-spacing:.02em;color:#fff; background:var(--primary); padding:6px 12px; border-radius:999px;}
    h1{margin:14px 0 6px; font-size:1.55rem; font-weight:700; letter-spacing:.01em;}
    .sub{margin:0; color:var(--muted)}
    .content{padding:20px}
    .row{display:flex; gap:8px; flex-wrap:wrap; justify-content:center}
    .card{border:2px dashed #cbd5e1; border-radius:16px; padding:22px; text-align:center; transition:.2s; background:#fff}
    .card.on{background:#f8fafc; border-color:#94a3b8}
    .btn{display:inline-block; padding:12px 18px; border-radius:12px; border:1px solid #e2e8f0; background:var(--primary); color:#fff; font-weight:600; cursor:pointer; text-decoration:none;}
    .btn.secondary{background:#fff; color:var(--primary); border-color:var(--primary)}
    .btn.link{background:#fff; color:#0f172a}
    .muted{color:var(--muted); font-size:.95rem}
    #log > div{padding:8px 12px; border:1px solid var(--border); border-radius:12px; margin:8px 0; background:#fff; text-align:left; word-break:break-all;}
    .footer{padding:14px 20px; font-size:.9rem; color:var(--muted); border-top:1px solid var(--border); text-align:center;}
    #hidden_iframe{display:none}
  </style>
</head>
<body>
  <div class="container">
    <div class="hero">
      <span class="tag">Hyeyin/25.11.1.</span>
      <h1>JAEHEE ğŸ©·HYEYIN WEDDING DAY</h1>
      <p class="sub">í•˜ê° ì—¬ëŸ¬ë¶„ì˜ ì†Œì¤‘í•œ ì‚¬ì§„ì„ ì˜¬ë ¤ì£¼ì„¸ìš”. ì›ë³¸ ê·¸ëŒ€ë¡œ ì €ì¥ë©ë‹ˆë‹¤.</p>
    </div>

    <div class="content">
      <!-- ìˆ¨ì€ iframe: í¼ ì œì¶œ í›„ í˜ì´ì§€ ì´íƒˆ ë°©ì§€ -->
      <iframe name="hidden_iframe" id="hidden_iframe"></iframe>

      <div id="drop" class="card" aria-label="íŒŒì¼ ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì˜ì—­">
        <form id="uform" action="WEBAPP_URL" method="post" enctype="multipart/form-data" target="hidden_iframe">
          <input id="file" type="file" name="file" multiple accept="image/*,video/*" hidden>

          <div style="margin-bottom:12px; font-weight:600;">ì—¬ê¸°ë¡œ ì‚¬ì§„/ë™ì˜ìƒì„ ë“œë˜ê·¸í•˜ê±°ë‚˜ ë²„íŠ¼ìœ¼ë¡œ ì„ íƒí•˜ì„¸ìš”</div>
          <div class="row">
            <button type="button" class="btn" onclick="document.getElementById('file').click()">íŒŒì¼ ì„ íƒ</button>
            <button type="submit" class="btn secondary">ì—…ë¡œë“œ</button>
            <!-- ê°¤ëŸ¬ë¦¬/ë‹¤ìš´ë¡œë“œ ì—´ê¸° ë²„íŠ¼ -->
            <a id="galleryBtn" class="btn link" href="#" target="_blank" rel="noopener">ê°¤ëŸ¬ë¦¬ ì—´ê¸° â¬‡ï¸</a>
          </div>
          <div class="muted" style="margin-top:10px">ëŒ€ìš©ëŸ‰ ë™ì˜ìƒì€ Wi-Fi ê¶Œì¥ Â· ì—¬ëŸ¬ íŒŒì¼ì„ í•œ ë²ˆì— ì„ íƒ ê°€ëŠ¥</div>
        </form>
      </div>

      <div style="margin-top:16px">
        <b>ì—…ë¡œë“œ ìƒíƒœ</b>
        <div id="log" aria-live="polite"></div>
      </div>
    </div>

    <div class="footer">
      ì—…ë¡œë“œê°€ ëë‚˜ë©´ ì°½ì„ ë‹«ì•„ì£¼ì„¸ìš”. ê°ì‚¬í•©ë‹ˆë‹¤! ğŸ©·
    </div>
  </div>

  <script>
    const WEBAPP_URL = "https://script.google.com/macros/s/AKfycbyLJ35UzvdXjk7cpf1CtMieCdO8yTbch0Qmz_A-NlaVdzwv8rLoWMc-67JIFH1szSKS/exec
"; // â† Apps Script ì›¹ì•± URL
    document.getElementById('uform').setAttribute('action', WEBAPP_URL);
    document.getElementById('galleryBtn').href = WEBAPP_URL + "?gallery=1";

    const drop = document.getElementById('drop');
    const input = document.getElementById('file');
    const form = document.getElementById('uform');
    const log = document.getElementById('log');
    const ifr = document.getElementById('hidden_iframe');

    ['dragenter','dragover'].forEach(evt => drop.addEventListener(evt, e => { e.preventDefault(); drop.classList.add('on'); }));
    ['dragleave','drop'].forEach(evt => drop.addEventListener(evt, e => { e.preventDefault(); drop.classList.remove('on'); }));
    drop.addEventListener('drop', e => { input.files = e.dataTransfer.files; showSelection(); });
    input.addEventListener('change', showSelection);

    function showSelection(){
      [...input.files].forEach(f => {
        const item = document.createElement('div');
        item.textContent = `ëŒ€ê¸° ì¤‘: ${f.name} (${Math.round(f.size/1024)} KB)`;
        item.dataset.name = f.name;
        log.prepend(item);
      });
    }

    form.addEventListener('submit', () => {
      [...input.files].forEach(f => {
        const item = [...log.children].find(n => n.dataset.name === f.name);
        if (item) item.textContent = `ì—…ë¡œë“œ ì¤‘: ${f.name} â€¦`;
      });
      const onLoad = () => {
        [...input.files].forEach(f => {
          const item = [...log.children].find(n => n.dataset.name === f.name);
          if (item) item.textContent = `ì™„ë£Œ âœ… ${f.name}`;
        });
        input.value = '';
        ifr.removeEventListener('load', onLoad);
      };
      ifr.addEventListener('load', onLoad);
    });
  </script>
</body>
</html>
